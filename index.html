<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>感謝の手紙を書こう</title>

<style>
body{
  font-family:"UD デジタル 教科書体 N-R","Hiragino Sans","Noto Sans JP",sans-serif;
  background:#fafafa;
}
.sheet{
  max-width:900px;
  margin:20px auto;
  background:#fff;
  border:1px solid #ccc;
  border-radius:12px;
  padding:20px;
}
h1{margin-top:0}

.step{
  border:1px solid #ddd;
  border-radius:10px;
  padding:15px;
  margin-bottom:15px;
}

textarea,input[type=text]{
  width:100%;
  font-size:16px;
  padding:8px;
  border-radius:6px;
  border:1px solid #bbb;
  box-sizing:border-box;
}
textarea{min-height:90px}

/* ★ まとめ欄は大きく */
#result{
  min-height:300px;
}

.radio-group label{
  display:block;
  margin:6px 0;
  cursor:pointer;
}

ruby rt{
  font-size:0.55em;
}

button{
  padding:10px 14px;
  font-size:14px;
  border-radius:8px;
  border:1px solid #aaa;
  background:#f5f5f5;
  cursor:pointer;
  margin-right:6px;
}

/* 印刷（PDF）用 */
@media print{
  button{display:none;}
  body{background:#fff;}
  .sheet{border:none;}
}
</style>
</head>

<body>
<div class="sheet">

<h1>
<ruby>感謝<rt>かんしゃ</rt></ruby>の
<ruby>手紙<rt>てがみ</rt></ruby>を
<ruby>書<rt>か</rt></ruby>こう
</h1>

<!-- ① 記入 -->
<div class="step">
<h2>
① <ruby>誰<rt>だれ</rt></ruby>に
<ruby>書<rt>か</rt></ruby>きますか
</h2>
<input type="text" id="to" placeholder="〇〇先生">
</div>

<!-- ② 選択 -->
<div class="step">
<h2>
② <ruby>最初<rt>さいしょ</rt></ruby>のあいさつを
<ruby>選<rt>えら</rt></ruby>びましょう（1つ）
</h2>
<div class="radio-group">
<label>
<input type="radio" name="greeting"
value="〇〇先生、いつもありがとうございます。">
〇〇<ruby>先生<rt>せんせい</rt></ruby>、いつもありがとうございます。
</label>

<label>
<input type="radio" name="greeting"
value="〇〇先生、日ごろからお世話になっています。">
〇〇<ruby>先生<rt>せんせい</rt></ruby>、
<ruby>日<rt>ひ</rt>ごろから</ruby>
お<ruby>世話<rt>せわ</rt></ruby>になっています。
</label>

<label>
<input type="radio" name="greeting"
value="〇〇先生にお礼を伝えたくて、手紙を書きました。">
〇〇<ruby>先生<rt>せんせい</rt></ruby>に
お<ruby>礼<rt>れい</rt></ruby>を
<ruby>伝<rt>つた</rt></ruby>えたくて、
<ruby>手紙<rt>てがみ</rt></ruby>を
<ruby>書<rt>か</rt></ruby>きました。
</label>
</div>
</div>

<!-- ③ 記入 -->
<div class="step">
<h2>
③ <ruby>思<rt>おも</rt></ruby>い
<ruby>出<rt>で</rt></ruby><ruby>書<rt>か</rt></ruby>きましょう
</h2>
<textarea id="memory"></textarea>
</div>

<!-- ④ 記入 -->
<div class="step">
<h2>
④ そのときの<ruby>気持<rt>きも</rt></ruby>ちを<ruby>書<rt>か</rt></ruby>きましょう
</h2>
<textarea id="feeling"></textarea>
</div>

<!-- ⑤ 選択 -->
<div class="step">
<h2>
⑤ <ruby>最後<rt>さいご</rt></ruby>のあいさつを
<ruby>選<rt>えら</rt></ruby>びましょう（1つ）
</h2>
<div class="radio-group">
<label>
<input type="radio" name="closing"
value="これからもよろしくお願いします。">
これからもよろしくお願いします。
  これからもよろしくお<ruby>願<rt>ねが</rt></ruby>いします。
</label>

<label>
<input type="radio" name="closing"
value="もっと成長できるようにがんばります。">
もっと<ruby>成長<rt>せいちょう</rt></ruby>できるようにがんばります。
</label>

<label>
<input type="radio" name="closing"
value="これからも〇〇先生に会えるのを楽しみにしています。">
これからも
〇〇<ruby>先生<rt>せんせい</rt></ruby>に
<ruby>会<rt>あ</rt></ruby>えるのを
<ruby>楽<rt>たの</rt></ruby>しみにしています。
</label>
</div>
</div>

<!-- まとめ -->
<div class="step">
<h2>
<ruby>手紙<rt>てがみ</rt></ruby>のまとめ
</h2>
<button onclick="build()">まとめる</button>
<button onclick="makePDF()">PDFにする</button>
<textarea id="result" readonly></textarea>
</div>

</div>

<script>
function build(){
  const to = document.getElementById("to").value.trim();
  const memory = document.getElementById("memory").value.trim();
  const feeling = document.getElementById("feeling").value.trim();

  const g = document.querySelector('input[name="greeting"]:checked');
  const c = document.querySelector('input[name="closing"]:checked');

  let text = [];

  if(g) text.push(g.value.replaceAll("〇〇先生", to));
  if(memory) text.push(memory);
  if(feeling) text.push(feeling);
  if(c) text.push(c.value.replaceAll("〇〇先生", to));

  document.getElementById("result").value = text.join("\n\n");
}

/* ★ PDF化ボタン */
function makePDF(){
  build();        // 必ず最新にまとめる
  window.print();// 印刷 → PDF保存
}
</script>

</body>
</html>
